\begin{lstlisting}

Transformaciones de estados.
Ciclos y demostraciones despues.

bool Sistema::listoParaCosechar() const{
     
    float cantCosechable = _cuentaCosechables();
	
	/* \textcolor{ao}{// Estado E1: } */
    /* \textcolor{ao}{// Vale: cantCosechable == cantCultivosCosechables(campo(this))  } */

    float totalCultivos = _parcelasCultivo().size();
    
    /* \textcolor{ao}{// Estado E2: } */
    /* \textcolor{ao}{// Vale: totalCultivos == |parcelasCultivo(campo(this))|  \&\&  cantCosechable == cantCosechable@E1} */
    
    return cantCosechable/totalCultivos >= 0.9f;
    
    /* \textcolor{ao}{// Estado E3: } */
    /* \textcolor{ao}{// Vale: res == (cantCosechable@E2 / totalCultivos@E2 >= 0,9)} */
}

int Sistema::_cuentaCosechables() const{
    int total = 0;
	
	/* \textcolor{ao}{// Estado A1: } */
    /* \textcolor{ao}{// Vale: total == 0}*/
    
    unsigned int i = 0;

	/* \textcolor{ao}{// Estado A2: } */
    /* \textcolor{ao}{// Vale: i == 0  \&\&  total == total@A1}*/
    /* \textcolor{ao}{// Vale PC: i == 0  \&\&  total == 0}*/
    
    while(i < _parcelasCultivo().size()){
		
    	/* \textcolor{ao}{// I: 0 $\leq$  i $\leq$ |parcelasCultivo(campo(this))|}*/
	/* \textcolor{ao}{// B: i $<$ |parcelasCultivo(campo(this))|}*/
	/* \textcolor{ao}{// Fv:|parcelasCultivo(campo(this))|-i Cota: 0}*/    	
    	
        if (estadoDelCultivo(_parcelasCultivo().at(i)) == ListoParaCosechar){
            total++;
        }
        i++;
    }

    /* \textcolor{ao}{// Estado A3}*/	    
    /* \textcolor{ao}{// Vale QC: total == cantCultivosCosechables(this)}*/    
    return total;
    
    /* \textcolor{ao}{// Estado A4}*/    
    /* \textcolor{ao}{// Vale res == total@A3}*/    
    
}

std::vector<Posicion> Sistema::_parcelasCultivo() const{
    std::vector<Posicion> parcelasCultivo;

	/* \textcolor{ao}{// Estado B1}*/	    
    /* \textcolor{ao}{// Vale: parcelasCultivo == []}*/    
    int i = 0;
	/* \textcolor{ao}{// Estado B2}*/	    
    /* \textcolor{ao}{// Vale PC: i == 0 \&\& parcelasCultivo == parcelasCultivo@B1}*/    
        
    while (i < campo().dimensiones().ancho){
        _parcelasCultivoLargo(parcelasCultivo, i);
        i++;
    }
    
    /* \textcolor{ao}{// Estado B3}*/	    
    /* \textcolor{ao}{// Vale QC: parcelasCultivo == parcelasCultivo(campo(this))}*/    
    
    return parcelasCultivo;
    
    /* \textcolor{ao}{// Estado B4}*/	    
    /* \textcolor{ao}{// Vale res == parcelasCultivo@B3}*/    
    
}

void Sistema::_parcelasCultivoLargo(std::vector<Posicion> &parcelasCultivo, int fila) const{
    int j = 0;
    while (j < campo().dimensiones().largo){
        Posicion p;
        p.x = fila;
        p.y = j;
        if (campo().contenido(p) == Cultivo){
            parcelasCultivo.push_back(p);
        }
        j++;
    }
}


\end{lstlisting}